<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Shop Homepage - Start Bootstrap Template</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Header-->
        <header>
            <div id="dealeri" display: flex>
                <script>
                    let el = document.getElementById("dealeri");
                    fetch("https://localhost:7276/Dealer/PreuzmiDealere")
                        .then(p => {

                            p.json().then(dealers => {
                                console.log(dealers);
                                dealers.forEach(dealer => {
                                    let d = new Dealer(dealer.id, dealer.ime, dealer.adresa, dealer.email, dealer.telefon);
                                    d.crtajDealera(el);
                                })
                            })
                        })
                </script>


                <p class="lead fw-normal text-white-50 mb-0">With this shop hompeage template</p>
            </div>
            </div>
        </header>
        <!-- Section-->
        <section class="py-5">
            <div class="container px-4 px-lg-5 mt-5">
                <div id="formaZaPretragu">
                    <label for="text">Plac:</label><br>
                    <select id="placeviPretraga">
                        <option>Svi</option>
                    </select>
                    <script>
                        fetch("https://localhost:7276/Dealer/PreuzmiDealere")
                            .then(p => {
                                p.json().then(dealers => {
                                    var pom = new Forma();
                                    pom.crtajOpcije(dealers, "placeviPretraga");
                                })
                            })
                    </script>
                    <label for="text">Marka:</label><br>
                    <input type="text" id="markaPretraga" name="markaPretraga"><br>
                    <label for="text">Model:</label><br>
                    <input type="text" id="modelPretraga" name="modelPretraga"><br>
                    <label for="text">GodisteOd:</label><br>
                    <input type="text" id="godOdPretraga" name="godOdPretraga"><br>
                    <label for="text">GodisteDo</label><br>
                    <input type="text" id="godDoPretraga" name="godDoPretraga"><br>
                    <label for="text">CenaOd</label><br>
                    <input type="text" id="cenaOdPretraga" name="cenaOdPretraga"><br>
                    <label for="text">CenaDo</label><br>
                    <input type="text" id="cenaDoPretraga" name="cenaDoPretraga"><br>
                    <label for="options">SortirajPo:</label>
                    <select id="kriterijum" name="kriterijum">
                        <option value="1">Cena</option>
                        <option value="0">Godiste</option>
                    </select>
                    <select id="opadajuce" name="opadajuce">
                        <option value="1">Opadajuce</option>
                        <option value="0">Rastuce</option>
                    </select>
                    <input id="dugmeZaPretragu" type="button" value="Pretrazi">
                </div>
                <div class="container px-4 px-lg-5 my-5">
                    <div id="nesto" style="float:left;">
                        <label for="text">Marka:</label><br>
                        <input type="text" id="marka" name="marka"><br>
                        <label for="text">Model:</label><br>
                        <input type="text" id="model" name="model"><br>
                        <label for="text">God:</label><br>
                        <input type="text" id="god" name="god"><br>
                        <label for="text">Kilometraza:</label><br>
                        <input type="text" id="km" name="km"><br>
                        <label for="text">Cena:</label><br>
                        <input type="text" id="cena" name="cena"><br>
                        <label for="text">Plac:</label><br>
                        <select id="myDropdown">
                        </select>
                        <script>
                            fetch("https://localhost:7276/Dealer/PreuzmiDealere")
                                .then(p => {
                                    p.json().then(dealers => {
                                        var pom = new Forma();
                                        pom.crtajOpcije(dealers, "myDropdown");
                                    })
                                })
                        </script>
                        <input id="dugmeDodaj" type="button" value="Dodaj">
                    </div>
                    <div id="nestoDrugo" style="float:right;">
                        <label for="text">Ime:</label><br>
                        <input type="text" id="ime" name="ime"><br>
                        <label for="text">Adresa:</label><br>
                        <input type="text" id="adresa" name="adresa"><br>
                        <label for="text">Email:</label><br>
                        <input type="text" id="email" name="email"><br>
                        <label for="text">Telefon</label><br>
                        <input type="text" id="telefon" name="telefon"><br>
                        <input id="dugmeDodajDealera" type="button" value="Dodaj">
                    </div>

                </div>
                <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center" id="prvi">
                    <script>
                        let el2 = document.getElementById("prvi");
                        fetch("https://localhost:7276/Car/PreuzmiAuta")
                            .then(p => {
                                p.json().then(cars => {
                                    cars.forEach(car => {

                                        console.log(car);
                                        console.log(car.id);
                                        let c = new Car(car.id, car.marka, car.model, car.godProizvodnje, car.predjenihKM, car.cena, car.photo, car.prodavac);
                                        c.crtajAuto(el2);
                                    })
                                })
                            })
                    </script>
                </div>
            </div>
        </section>
        <!-- Footer-->
        <footer class="py-5 bg-dark">
            <div class="container"><p class="m-0 text-center text-white">Copyright &copy; Your Website 2023</p></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <script src="js/Forma.js"></script>
        <script src="js/Car.js"></script>
        <script src="js/Dealer.js"></script>
        <script src="js/Pretraga.js"></script>

    </body>
</html>
